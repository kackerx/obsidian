# 整洁架构 & 六边形架构

:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

~~~ad-primary
title: clean

- 端口: 『主要适配器』, app的输入, 外部访问app的唯一方式, 可以是一个http, grpc, cli, pub/sub 
- 适配器: 『次要适配器』, app与外部对话的方式, 内部结构调整为外部API期望的样子等
- 应用层: 很薄, 粘合其它层, 『用例』, 阅读它可以不知道使用的什么数据库, 调用了什么地址就nice, 协调者, 不要暴露任何细节
~~~

</br>

~~~ad-note
title: 层的概念

- 端口(入口): 音量按钮, 滑动音量, 嘿siri调整音量
- 适配器: 播放音乐, 可以扬声器, 可以耳机, 程序并不在意因为使用操作系统的适配器去适配不同的输出
- 分层: 关注点分别, 依赖倒置, 依赖抽象而非实现, 内层永远不应该依赖外层
~~~

</br>

~~~ad-danger
title:  

- 具体来说可以是: 
- adapter: 实现了了app/command/services中依赖的远程调用的interface, 或者实现了domain/repository定义的访问db的interface
- ports: 实现了对外暴露的可以被调用的http或grpc服务
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::

![[Pasted image 20240705120526.png|555]]

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

## ov

:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}



::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreakk
:::

![[Pasted image 20240708143931.png|666]]

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::