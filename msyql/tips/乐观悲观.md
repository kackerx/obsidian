# 悲观锁 & 乐观锁

## 悲观锁

对表加锁, 并发gg

## 乐观锁

执行更新操作的时候, 先查出来该条数据, 更新时比较获取到该条记录的version字段是否和之前自己查询的version一样, 不同则更新失败

![[Pasted image 20221109140751.png|555]]

失败了去重试

```python
def main():
	pass
```

