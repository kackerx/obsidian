# TCC分布式事务, Try & confirm & cancel #z 

## sumup

> 相比两阶段提交, 把节点的加锁性能损耗操作, 拿到程序去做

![[Pasted image 20221102232528.png|500]]

$ 订单服务支付成功后, 四个服务都要执行成功, 要么全部回滚

![[Pasted image 20221102233014.png|700]]
- 库存服务执行失败, 通知协调者, 协调者通知其他服务执行反向操作, 抵消自己的操作, 每个服务都有try, confirm, cancel三个操作

