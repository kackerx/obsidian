{
	"nodes":[
		{"id":"417ca0f2a2ef161e","x":-20,"y":-860,"width":700,"height":1280,"type":"text","text":"```sql\n-- checketpoint设置\nset execution.checkpointing.interval=10000;\n\n\nCREATE TABLE `t_fbi_tax_rate` (\n     `id` decimal(20,0)  NOT NULL ,\n  `country_code` varchar(64) NOT NULL COMMENT '国家编码(2位)',\n  `tax_code` varchar(64) NOT NULL COMMENT '税码',\n  `description` varchar(255) NOT NULL COMMENT '描述',\n  `tax_rate` varchar(255) NOT NULL COMMENT '税率',\n  `active_from` timestamp NOT NULL COMMENT '生效日期',\n  `created_at` timestamp NOT NULL  COMMENT '创建时间',\n  `created_by` varchar(32) NOT NULL COMMENT '创建人',\n  `updated_at` timestamp NOT NULL COMMENT '更新时间',\n  `updated_by` varchar(32) NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`) NOT ENFORCED\n) with (\n  'connector' = 'mysql-cdc',\n  'hostname' = '${datasource.fbi.host}',\n  'port' = '${datasource.fbi.port}',\n  'username' = '${datasource.fbi.username}',\n  'password' = '${datasource.fbi.password}',\n  'database-name' = '${datasource.fbi.database}',\n  'table-name' = 't_fbi_tax_rate',\n  -- 'scan.startup.mode' = 'initial'\n  'server-time-zone' = 'Asia/Shanghai',\n  'server-id'='112211'\n);\n\n\nCREATE TABLE ods_t_fbi_tax_rate (\n      `id` bigint  NOT NULL ,\n  `country_code` string NOT NULL COMMENT '国家编码(2位)',\n  `tax_code` string NOT NULL COMMENT '税码',\n  `description`string NOT NULL COMMENT '描述',\n  `tax_rate` string NOT NULL COMMENT '税率',\n  `active_from` timestamp NOT NULL COMMENT '生效日期',\n  `created_at` timestamp NOT NULL  COMMENT '创建时间',\n  `created_by` string NOT NULL COMMENT '创建人',\n  `updated_at` timestamp NOT NULL COMMENT '更新时间',\n  `updated_by` string NOT NULL COMMENT '更新人',\nPRIMARY KEY ( id ) NOT ENFORCED\n)\nWITH (\n    'connector' = 'doris',\n    'table.identifier' = 'fbi_report_uat.ods_t_fbi_tax_rate',\n    'fenodes' = '${mars.dataWarehouse.httpUrl}',\n    'username' = '${mars.dataWarehouse.user}',\n    'password' = '${mars.dataWarehouse.password}',\n    'sink.properties.format' = 'json',\n    'sink.properties.read_json_by_line' = 'true',\n    'sink.enable-delete' = 'true',\n    'sink.enable-2pc' = 'false',\n    'sink.label-prefix' = 'fbi_report_uat_ods_t_fbi_tax_rate'\n);\ninsert  into  ods_t_fbi_tax_rate \nselect   cast(`id` as bigint)\n    ,`country_code`   --  国家编码(2位)\n    ,`tax_code`   --  税码\n    ,`description`   --  描述\n    ,`tax_rate`   --  税率\n    ,`active_from`   --  生效日期\n    ,`created_at`   --  创建时间\n    ,`created_by`   --  创建人\n    ,`updated_at`   --  更新时间\n    ,`updated_by`   --  更新人\nfrom t_fbi_tax_rate\n;\n```"},
		{"id":"a9a1736818d24488","x":-920,"y":-660,"width":760,"height":520,"type":"text","text":"- 数据资产建立ods物理表\n```sql\nCREATE TABLE `ods_t_fbi_tax_rate` (\n  `id` bigint(20) NOT NULL,\n  `country_code` text NOT NULL DEFAULT \"\" COMMENT '国家编码(2位)',\n  `tax_code` text NOT NULL DEFAULT \"\" COMMENT '税码',\n  `description` text NOT NULL DEFAULT \"\" COMMENT '描述',\n  `tax_rate` text NOT NULL DEFAULT \"\" COMMENT '税率',\n  `active_from` datetime NOT NULL DEFAULT \"0001-01-01 00:00:00\" COMMENT '生效日期',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `created_by` text NOT NULL DEFAULT \"\" COMMENT '创建人',\n  `updated_at` datetime NOT NULL COMMENT '更新时间',\n  `updated_by` text NOT NULL DEFAULT \"\" COMMENT '更新人',\n  `dc_update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入仓更新时间'\n) ENGINE=OLAP\nUNIQUE KEY(`id`)\nCOMMENT '采购系统-税码税率'\nDISTRIBUTED BY HASH(`id`) BUCKETS 10\nPROPERTIES (\n\"replication_allocation\" = \"tag.location.default: 1\",\n\"in_memory\" = \"false\",\n\"storage_format\" = \"V2\",\n\"enable_unique_key_merge_on_write\" = \"true\",\n\"disable_auto_compaction\" = \"false\"\n);\n```"}
	],
	"edges":[
		{"id":"0ef5f1953b1885bb","fromNode":"a9a1736818d24488","fromSide":"right","toNode":"417ca0f2a2ef161e","toSide":"left"}
	]
}