## 多态取代条件表达式
![[Pasted image 20230309164704.png|555]]

### 动机
- 一组类型, 每个类型处理各自的一种条件逻辑
- 明显的征兆就是好几个函数都有基于类型代码的switch语句

### 做法
![[Pasted image 20230309164929.png|700]]
- 以上情况, 只能拿到类型的字符串, 可以用工厂cache模式传入type字符串返回具体类型, 调用其处理方法
- 不具备多态行为就用工厂模式, 返回适当的对象实例
- 将带有条件逻辑的函数移到超类, 超类函数保留默认情况的逻辑