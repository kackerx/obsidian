:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

~~~ad-primary
title: acl

### ACL (Anti-Corruption Layer)
- **定义**：反腐败层（Anti-Corruption Layer, ACL）是一种设计模式，用于隔离不同的系统或子系统间的通信，防止外部模型的不良设计影响到内部领域模型的清晰度和整洁性。
- **功能**：ACL充当两个系统或子系统间的一个翻译层，确保外部系统的变化或其复杂性不会直接影响到内部的领域模型。它通过提供一个中间层来转换数据格式、调用方法和接口协议，使得内部系统能够以自己的术语和数据结构继续操作。
- **应用场景**：例如，在一个系统需要集成一个外部供应商API的情况下，可能会使用ACL来转换API的数据格式，使其符合内部领域的期望和规范。
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::

~~~ad-success
title: dal - infra/persistence/dal

### DAL (Data Access Layer)
- **定义**：数据访问层（Data Access Layer, DAL）是软件架构中负责直接与数据库或其他形式的持久存储进行交互的部分。
- **功能**：DAL的主要职责是提供一个抽象层，用于封装所有与数据源的交互，从而使上层的业务逻辑或领域逻辑不需要直接处理数据存储相关的细节。这包括创建、读取、更新和删除数据（CRUD操作）。
- **组件**：在DAL中，你提到的`PO`对象，通常指的是“持久化对象”（Persistent Objects），它们直接映射数据库表中的行，主要用于数据库操作。
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

~~~ad-note
title: executor - app层

### 应用层中的 `executor` 目录概念

- **职责**：`executor` 目录通常包含处理复杂业务逻辑或工作流的类和方法。这些执行者封装了对领域层的操作，确保领域逻辑被正确执行，同时也隐藏了具体的实现细节。
- **功能**：在应用层中，`executor` 通常负责接受来自用户界面或API的请求，调用领域层的服务或实体完成具体的业务操作，然后返回结果。它们是连接用户界面和领域核心逻辑的桥梁。
- **实现方式**：这些执行者可能会实现事务管理、错误处理、安全校验、日志记录等跨领域的关注点，同时还可能涉及到任务调度和异步执行。
- 负责协调领域层和用户界面之间的活动，它实现了用例的『流程!』和业务逻辑。
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::

~~~ad-warn
title: command & query - app层/executor/order/command

### Command目录

- **用途**：`command` 目录通常用来存放处理应用层命令的代码。命令是指导致系统状态变化的操作，如创建、修改或删除数据。
- **职责**：这些命令处理类会封装所有必要的逻辑来执行一个特定的操作或业务逻辑。它们通常不返回任何数据（或者只返回操作的成功与否），因为它们的主要目的是改变系统的状态。

### Query目录

- **用途**：`query` 目录则包含处理查询的代码。查询是用来从系统中读取数据而不改变任何系统状态的操作。
- **职责**：查询处理类专注于数据的获取和返回，它们确保数据的读取高效且可靠，但不涉及任何状态的改变。

通过这种结构，应用层清晰地区分了导致状态变化的行为（命令）和仅仅读取数据的行为（查询）。这样做的好处包括：

- **性能优化**：可以针对查询操作优化读取性能，例如通过引入只读的副本或缓存机制。
- **安全性提高**：通过明确区分命令和查询，可以更精确地控制安全策略和访问权限。
- **降低复杂性**：将命令和查询分离，使得系统的各个部分更加专注，从而降低了代码复杂度。
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

~~~ad-danger
title: assembler

### Assembler的功能和职责：

- **数据转换**：Assembler 负责在领域模型和数据传输对象（DTOs）之间进行转换。DTOs是简化的对象，专为远程接口调用或响应客户端请求而设计，它们通常不包含任何业务逻辑，只是数据的容器。
- **隔离关注点**：通过使用Assembler，应用层可以保持独立于领域层，使得领域模型的改变不会直接影响到数据传输对象的结构，反之亦然。这样的分离帮助降低系统各部分之间的耦合度。
- **增强可维护性**：Assembler使得数据格式的更改操作集中在一个位置处理，当系统需要支持新的数据结构或修改现有结构时，可以更容易地进行更新和维护。

### 实现示例

在一个典型的Java应用中，Assembler类可能包含如下方法：

- `toDTO(DomainObject domainObject)`: 接受一个领域对象，返回一个DTO。
- `toDomainObject(DTO dto)`: 接受一个DTO，转换回领域对象。
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::



::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

---
:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

~~~ad-note
title: 战略设计 & 战术设计

- 战略设计: 限界上下文, 通用语言, 子域
- 战术设计: 聚合, 实体, 值对象, 资源库, 领域服务, 领域事件, 模块

~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::

![[Pasted image 20240430110305.png|666]]

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
