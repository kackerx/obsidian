:::::::::::::::::::::::::::::::::::::::: {.columns shadow=off border=off col-count=2 largest-column=firs}

- 「**没有数据要发送」并且「开启了 TCP 延迟确认机制（默认会开启）」，那么第二和第三次挥手就会合并传输，这样就出现了三次挥手。**
- 延迟确认机制: 没有data的响应的时候, ack报文会等待最长200ms再响应data+ack
- 四次挥手时第二次握手的ack就会等待数据从而延迟确认

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::columnbreak
:::

~~~ad-inf
title: Nagle

1. 发送缓冲的机制, 把一个往返时间里的小数据合并生成一个大包发送
2. 发送出的数据还没被确认前又有小数据生成, 那就收集起来凑满一个MSS或者等收到确认后发送
3. 没有直接提高性能, 甚至会降低, 为了是减轻网络负担
~~~

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
   