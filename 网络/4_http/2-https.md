# http和https

## ssl协议 * Secure Sockets Layer, 后改为Tls Transport Layer Security

> 提供数据安全和完整的协议, 负责网络加密, https是在http的基础上加入了ssl协议, 私钥解密, 私钥加密(签名sign)


## 传输过程

- 客户端向服务端发起请求
- 服务端生成一对非对称的公钥, 私钥, 公钥附加到ca数字证书返回客户端 -- ca的作用, 如果只发送公钥给客户端中间可能被中间人截取发送中间人的公钥, 然后用他自己的私钥解密
- 客户端校验证书是否合法(通过浏览器内置厂商根证书等), 并提取公钥
- 客户端生成随机key并通过公钥加密和传输随机数
- 服务端通过私钥解密随机key
- 后序两端通过该key对称加密传输
- 

## 区别

- http明文传输, https使用ssl协议加密, 通过ca机构颁发证书
- 端口区别
- http

## sumup

![[Pasted image 20221110172436.png|1000]]

- 为什么中间人无法篡改, 因为服务器的证书由ca机构的私钥加密, 他用公钥解密只能看到没法加密, 发送给客户端, 客户端用机构公钥解密验证证书合法性
- 有了ca证书, 确保发送给客户端的一定是服务端的公钥, 而不是中间人伪造的公钥, 之后发送给服务端的key, 只能服务端的私钥解密

![[Pasted image 20221109164041.png|500]]
## 为什么抓包工具可以

-   抓包工具的原理就是“伪装“，对客户端伪装成服务器，对服务器伪装成客户端；
